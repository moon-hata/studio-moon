<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Works | Studio Moon</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #0a0a0a;
            --secondary-color: #1a1a1a;
            --accent-color: #64b3f4;
            --moon-color: #f4f4f4;
            --earth-color: #4a90e2;
            --text-light: #ffffff;
            --text-gray: #cccccc;
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --space-gradient: radial-gradient(ellipse at center, #1e3c72 0%, #2a5298 35%, #0f0f23 70%, #000000 100%);
        }

        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-light);
            background: var(--primary-color);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Stars Background */
        .stars-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: var(--space-gradient);
        }

        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, #eee, transparent),
                radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
                radial-gradient(1px 1px at 90px 40px, #fff, transparent),
                radial-gradient(1px 1px at 130px 80px, rgba(255,255,255,0.6), transparent),
                radial-gradient(2px 2px at 160px 30px, #ddd, transparent);
            background-repeat: repeat;
            background-size: 200px 100px;
            animation: sparkle 3s linear infinite;
        }

        .stars:nth-child(2) {
            background-size: 150px 80px;
            animation: sparkle 4s linear infinite reverse;
        }

        .stars:nth-child(3) {
            background-size: 100px 60px;
            animation: sparkle 5s linear infinite;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1rem 0;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid rgba(100, 179, 244, 0.2);
            box-shadow: 0 2px 30px rgba(100, 179, 244, 0.1);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 2rem;
            font-weight: 800;
            color: var(--text-light);
            text-decoration: none;
            display: flex;
            align-items: center;
            letter-spacing: -1px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--moon-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-size: 1.2rem;
            box-shadow: 0 0 20px rgba(244, 244, 244, 0.3);
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 3rem;
        }

        .nav-menu a {
            color: var(--text-gray);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-menu a.active,
        .nav-menu a:hover {
            color: var(--text-light);
        }

        .nav-menu a.active::after,
        .nav-menu a:hover::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--accent-color);
        }

        /* Main Content */
        .main-content {
            padding-top: 120px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Page Header */
        .page-header {
            text-align: center;
            margin-bottom: 4rem;
            padding: 2rem 0;
        }

        .page-title {
            font-size: clamp(3rem, 6vw, 5rem);
            font-weight: 900;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #ffffff 0%, #64b3f4 50%, #4a90e2 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -2px;
        }

        .page-subtitle {
            font-size: 1.2rem;
            color: var(--text-gray);
            font-weight: 300;
        }

        /* Filter Categories */
        .filter-categories {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: rgba(26, 26, 26, 0.8);
            border: 1px solid rgba(100, 179, 244, 0.3);
            color: var(--text-gray);
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .filter-btn.active,
        .filter-btn:hover {
            background: var(--gradient-primary);
            color: white;
            border-color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(100, 179, 244, 0.3);
        }

        /* Works Grid */
        .works-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .work-item {
            background: rgba(26, 26, 26, 0.8);
            border: 1px solid rgba(100, 179, 244, 0.2);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s ease;
            backdrop-filter: blur(10px);
            cursor: pointer;
        }

        .work-item:hover {
            transform: translateY(-10px);
            border-color: var(--accent-color);
            box-shadow: 0 25px 50px rgba(100, 179, 244, 0.2);
        }

        .work-image {
            height: 200px; /* 6:3 æ¯”ä¾‹ - 400x200 */
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            background: var(--gradient-primary);
        }

        .work-image.movie {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .work-image.youtube {
            background: linear-gradient(135deg, #ff0000, #cc0000);
        }

        .work-image.cm {
            background: linear-gradient(135deg, #ffd700, #ffb300);
        }

        .work-image.short-film {
            background: linear-gradient(135deg, #764ba2, #667eea);
        }

        .work-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.2);
            transition: opacity 0.3s ease;
            z-index: 1;
        }

        .work-item:hover .work-image::before {
            opacity: 0;
        }

        .work-item:hover .work-image .work-icon {
            opacity: 0;
        }

        .work-content {
            padding: 2rem;
        }

        .work-category {
            color: var(--accent-color);
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .work-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-light);
            margin-bottom: 1rem;
            line-height: 1.3;
        }

        .work-details {
            color: var(--accent-color);
            font-size: 0.9rem;
            margin-bottom: 1rem;
            line-height: 1.4;
        }

        .work-details strong {
            color: var(--text-light);
        }

        .work-description {
            color: var(--text-gray);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .work-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: var(--text-gray);
        }

        .work-year {
            font-weight: 600;
        }

        .work-status {
            padding: 0.3rem 1rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-completed {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        .status-in-progress {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .status-upcoming {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .status-recruiting {
            background: rgba(139, 69, 19, 0.2);
            color: #8b4513;
            border: 1px solid rgba(139, 69, 19, 0.3);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: rgba(26, 26, 26, 0.95);
            border: 1px solid rgba(100, 179, 244, 0.3);
            border-radius: 20px;
            max-width: 800px;
            max-height: 90vh;
            width: 90%;
            overflow-y: auto;
            backdrop-filter: blur(20px);
            position: relative;
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(50px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .modal-header {
            position: relative;
            height: 360px; /* 16:9 æ¯”ä¾‹ - 640x360 */
            background-size: cover;
            background-position: center;
            border-radius: 20px 20px 0 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            background: var(--gradient-primary);
            overflow: hidden;
        }

        /* ç‰¹åˆ¥ç‚ºã€Œæœ€å¾Œã®å¤ã¸ã®æ‰‰ã€è¨­ç½®å‹•æ…‹æ¯”ä¾‹ */
        .modal-header.special-ratio {
            height: auto; /* è®“é«˜åº¦è‡ªå‹•èª¿æ•´ */
            min-height: 300px; /* è¨­ç½®æœ€å°é«˜åº¦ */
            max-height: 70vh; /* æœ€å¤§é«˜åº¦ä¸è¶…éè¦–çª—70% */
        }

        .modal-header.special-ratio .modal-header-image {
            position: relative; /* æ”¹ç‚ºç›¸å°å®šä½ */
            width: 100%;
            height: auto; /* é«˜åº¦è‡ªå‹•èª¿æ•´ */
            object-fit: none; /* ä¸é€²è¡Œä»»ä½•è£åˆ‡æˆ–ç¸®æ”¾èª¿æ•´ */
            max-width: 100%;
            display: block;
        }

        .modal-header.movie {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .modal-header.youtube {
            background: linear-gradient(135deg, #ff0000, #cc0000);
        }

        .modal-header.cm {
            background: linear-gradient(135deg, #ffd700, #ffb300);
        }

        .modal-header.short-film {
            background: linear-gradient(135deg, #764ba2, #667eea);
        }

        .modal-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px 20px 0 0;
            z-index: 1;
            pointer-events: none; /* å…è¨±é»æ“Šç©¿é€åˆ°è¦–é » */
        }

        /* ç•¶æœ‰è¦–é »æ™‚éš±è—é®ç½© */
        .modal-header.has-video::before {
            display: none;
        }

        .modal-header-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            object-fit: contain; /* æ”¹ç‚º contain ä¾†é¡¯ç¤ºå®Œæ•´åœ–ç‰‡ */
            position: absolute;
            top: 0;
            left: 0;
            background: #000; /* æ·»åŠ é»‘è‰²èƒŒæ™¯å¡«å……ç©ºç™½å€åŸŸ */
        }

        .modal-header-video {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            border: none;
            z-index: 10; /* ç¢ºä¿è¦–é »åœ¨æœ€é ‚å±¤ */
            border-radius: 20px 20px 0 0;
        }

        .modal-header-content {
            position: relative;
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        /* Work image with carousel */
        .work-image {
            height: 250px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            background: var(--gradient-primary);
        }

        .work-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }

        .work-image .work-icon {
            position: relative;
            z-index: 2;
            font-size: 4rem;
        }

        /* Image Carousel */
        .image-carousel {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .carousel-container {
            display: flex;
            width: 100%;
            height: 100%;
            transition: transform 0.5s ease;
        }

        .carousel-slide {
            min-width: 100%;
            height: 100%;
            position: relative;
        }

        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .carousel-dots {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 6px;
            z-index: 3;
        }

        .carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-dot.active {
            background: rgba(255, 255, 255, 0.9);
            transform: scale(1.2);
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 3;
            font-size: 14px;
        }

        .carousel-nav:hover {
            background: rgba(0, 0, 0, 0.7);
        }

        .carousel-prev {
            left: 10px;
        }

        .carousel-next {
            right: 10px;
        }

        /* Modal carousel styles */
        .modal-carousel {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 5;
        }

        .modal-carousel-container {
            display: flex;
            width: 100%;
            height: 100%;
            transition: transform 0.5s ease;
        }

        .modal-carousel-slide {
            min-width: 100%;
            height: 100%;
            position: relative;
            flex-shrink: 0;
        }

        .modal-carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-carousel-dots {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 15;
            background: rgba(0, 0, 0, 0.3);
            padding: 8px 12px;
            border-radius: 20px;
        }

        .modal-carousel-dots .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.8);
        }

        .modal-carousel-dots .carousel-dot.active {
            background: rgba(255, 255, 255, 0.9);
            transform: scale(1.2);
        }

        .modal-carousel-prev,
        .modal-carousel-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.6);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 15;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
            opacity: 0.8;
        }

        .modal-carousel-prev:hover,
        .modal-carousel-next:hover {
            background: rgba(0, 0, 0, 0.8);
            opacity: 1;
            transform: translateY(-50%) scale(1.1);
        }

        .modal-carousel-prev {
            left: 15px;
        }

        .modal-carousel-next {
            right: 15px;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 1.5rem;
            z-index: 20; /* ç¢ºä¿é—œé–‰æŒ‰éˆ•åœ¨æœ€é ‚å±¤ */
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-category {
            color: var(--accent-color);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 800;
            color: var(--text-light);
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }

        .modal-details {
            color: var(--accent-color);
            font-size: 1rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .modal-details strong {
            color: var(--text-light);
        }

        .modal-description {
            color: var(--text-gray);
            line-height: 1.8;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .modal-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(100, 179, 244, 0.2);
        }

        .modal-year {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-gray);
        }

        .modal-status {
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* Back to Home */
        .back-link {
            text-align: center;
            margin: 3rem 0;
        }

        .btn-back {
            color: var(--text-gray);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            padding: 1rem 2rem;
            border: 2px solid rgba(100, 179, 244, 0.3);
            border-radius: 50px;
            display: inline-block;
        }

        .btn-back:hover {
            color: var(--text-light);
            border-color: var(--accent-color);
            background: rgba(100, 179, 244, 0.1);
        }

        /* Footer */
        .footer {
            background: rgba(26, 26, 26, 0.95);
            padding: 4rem 0 2rem;
            border-top: 1px solid rgba(100, 179, 244, 0.2);
            backdrop-filter: blur(10px);
            margin-top: 4rem;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .footer-main {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-brand {
            max-width: 400px;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
            color: var(--text-light);
            text-decoration: none;
        }

        .footer-logo .logo-icon {
            margin-right: 1rem;
        }

        .footer-logo-text {
            font-size: 1.5rem;
            font-weight: 800;
        }

        .footer-description {
            color: var(--text-gray);
            line-height: 1.6;
            margin-bottom: 2rem;
        }

        .footer-section h4 {
            color: var(--text-light);
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.8rem;
        }

        .footer-links a {
            color: var(--text-gray);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: var(--accent-color);
        }

        .footer-social {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-link {
            width: 40px;
            height: 40px;
            background: rgba(100, 179, 244, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            text-decoration: none;
            transition: all 0.3s ease;
            border: 1px solid rgba(100, 179, 244, 0.3);
        }

        .social-link:hover {
            background: var(--accent-color);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(100, 179, 244, 0.3);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(100, 179, 244, 0.2);
            color: var(--text-gray);
        }

        /* Animations */
        @keyframes sparkle {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .work-item {
            animation: fadeInUp 0.6s ease forwards;
        }

        .work-item:nth-child(2) { animation-delay: 0.1s; }
        .work-item:nth-child(3) { animation-delay: 0.2s; }
        .work-item:nth-child(4) { animation-delay: 0.3s; }
        .work-item:nth-child(5) { animation-delay: 0.4s; }
        .work-item:nth-child(6) { animation-delay: 0.5s; }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .works-grid {
                grid-template-columns: 1fr;
            }

            .filter-categories {
                flex-direction: column;
                align-items: center;
            }

            .footer-main {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }

            .footer-social {
                justify-content: center;
            }

            .modal-content {
                width: 95%;
                margin: 1rem;
            }

            .modal-title {
                font-size: 1.5rem;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--primary-color);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gradient-primary);
            border-radius: 4px;
        }

        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <!-- Stars Background -->
    <div class="stars-container">
        <div class="stars"></div>
        <div class="stars"></div>
        <div class="stars"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <div class="logo-icon">ğŸŒ™</div>
                STUDIO MOON
            </a>
            <ul class="nav-menu">
                <li><a href="news.html">News</a></li>
                <li><a href="works.html" class="active">Works</a></li>
                <li><a href="about.html">About us</a></li>
            </ul>
        </div>
    </nav>

    <!-- Modal -->
    <div id="workModal" class="modal">
        <div class="modal-content">
            <div class="modal-header" id="modalHeader">
                <button class="close-modal" onclick="closeModal()">&times;</button>
                <div class="modal-header-content">
                    <span id="modalIcon">ğŸ¬</span>
                </div>
                <!-- Modal carousel for multiple images -->
                <div class="modal-carousel" id="modalCarousel" style="display: none;">
                    <div class="modal-carousel-container" id="modalCarouselContainer">
                        <!-- Slides will be dynamically added here -->
                    </div>
                    <button class="carousel-nav carousel-prev modal-carousel-prev">â€¹</button>
                    <button class="carousel-nav carousel-next modal-carousel-next">â€º</button>
                    <div class="carousel-dots modal-carousel-dots" id="modalCarouselDots">
                        <!-- Dots will be dynamically added here -->
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div class="modal-category" id="modalCategory">é•·ç·¨æ˜ ç”»</div>
                <h2 class="modal-title" id="modalTitle">ä½œå“ã‚¿ã‚¤ãƒˆãƒ«</h2>
                <div class="modal-details" id="modalDetails"></div>
                <p class="modal-description" id="modalDescription">ä½œå“ã®èª¬æ˜æ–‡...</p>
                <div class="modal-footer">
                    <span class="modal-year" id="modalYear">2025å¹´</span>
                    <span class="modal-status" id="modalStatus">ç±Œå‚™ä¸­</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Page Header -->
            <header class="page-header">
                <h1 class="page-title">Works</h1>
                <p class="page-subtitle">Studio Moon ã®åˆ¶ä½œå®Ÿç¸¾ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</p>
            </header>

            <!-- Filter Categories -->
            <div class="filter-categories">
                <button class="filter-btn active" data-filter="all">ã™ã¹ã¦</button>
                <button class="filter-btn" data-filter="cm">CM</button>
                <button class="filter-btn" data-filter="movie">é•·ç·¨æ˜ ç”»</button>
                <button class="filter-btn" data-filter="short-film">çŸ­ç·¨æ˜ ç”»</button>
                <button class="filter-btn" data-filter="youtube">YouTube</button>
            </div>

            <!-- Works Grid -->
        <div class="works-grid" id="worksGrid">
                <!-- CMä½œå“ -->
                <div class="work-item" data-category="cm"
     data-title="ã‚¹ã‚¿ãƒƒãƒ•éå»ã®äº‹ç¸¾ãƒšãƒ¼ã‚¸"
     data-details=""
     data-description="æˆåŠŸå¤§å­¦90å‘¨å¹´å„ªç§€æ ¡å‹"
     data-year="2021å¹´"
     data-status="å®Œæˆ"
     data-youtube="uihhz3WyyHY">
                    
                    <div class="work-image cm">
                        <iframe
                            width="560" height="315" title="æˆåŠŸå¤§å­¦90å‘¨å¹´å„ªç§€æ ¡å‹" src="https://www.youtube.com/embed/uihhz3WyyHY?si=-LOkKdWel7Vl9vh8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
                        </iframe>
                    </div>
                    
                    <div class="work-content">
                        <div class="work-category">CM</div>
                        <h3 class="work-title">ã‚¹ã‚¿ãƒƒãƒ•éå»ã®äº‹ç¸¾ãƒšãƒ¼ã‚¸</h3>
                        <p class="work-description">æˆåŠŸå¤§å­¦90å‘¨å¹´å„ªç§€æ ¡å‹</p>
                        <div class="work-meta">
                            <span class="work-year">2021å¹´</span>
                            <span class="work-status status-completed">å®Œæˆ</span>
                        </div>
                    </div>
                </div>

                <!-- é•·ç·¨æ˜ ç”»ä½œå“ -->
                <div class="work-item" data-category="movie"
                     data-title="æœ€å¾Œã®å¤ã¸ã®æ‰‰ (The Door to Last Summer)"
                     data-details="<strong>å°ºï¼š</strong>90minã€€<strong>ç›£ç£ï¼š</strong>ä¸­ç”°é›„ä¸€éƒ<br><strong>ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ï¼š</strong>ç§¦å˜‰å’Œã€ãƒ€ãƒ‹ã‚¨ãƒ«ãƒ»ãƒ¤ãƒ³"
                     data-description="æ˜Ÿæœ‰ç†æ•°(5)ã¯ã€å²©æ‰‹ã®ç¥–æ¯ã®ç¾æ™ºå­(70)ã¨æ„›çŒ«ã®ã‚·ãƒ¥ãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚¬ãƒ¼ã¨å…±ã«ãŠç›†ã‚’éã”ã™ã€‚ã‚ã‚‹
æ—¥ã€æˆ¦å‰ã®æƒ…æ„›ã‚’è¨˜ã—ãŸæ‰‹ç´™ã‚’æ®‹ã—ãŸç¾æ™ºå­ã¯ã€çªç„¶å±ç¯¤çŠ¶æ…‹ã«é™¥ã‚‹ã€‚ãã®æ‰‹ç´™ã‚’å¶ç„¶ç¥–æ¯ã®å®¶
ã§è¦‹ã¤ã‘ãŸæœ‰ç†æ•°ã¯ã€ç¾æ™ºå­ã®ãƒ†ãƒ‡ã‚£ãƒ™ã‚¢ã¨æ‰‹æ¯¬ã‚’æŒã£ã¦æ£®ã¸ã¨èµ´ãã€‚ã—ã‹ã—ã€é“ã«è¿·ã£ãŸæœ«ã€
æœ¨è£½ã®éƒµä¾¿å—ã‘ã®å‘¨ã‚Šã‚’ãã‚‹ãã‚‹å‘¨ã£ã¦ã„ã‚‹ã†ã¡ã«é‡å…ã«é­é‡ã™ã‚‹ã€‚
ãƒã‚¢(30)ã¨åä¹—ã‚‹ãã®é‡å…ã¯ã€ä¸­æ±ã‹ã‚‰ã®å…ƒé›£âº ã§æœ‰ç†æ•°ã®çˆ¶ã€æŒ¯ä¸€éƒ(40)ã®æ•™ãˆå­ã§ã‚ã‚Šæœ‰ç†
æ•°ã‚’ç„¡äº‹ã«å®¶ã¾ã§é€ã‚Šå±Šã‘ã‚‹ç‰¹å‘½ã‚’æŒ¯ä¸€éƒã‹ã‚‰è«‹ã‘ã¦ã„ã‚‹ã€‚æ£®ã®ä¸­ã‚’å¿™ã—ãé§†ã‘å›ã‚Šé£›ã³è·³ã­ã‚‹
æœ‰ç†æ•°ã‚’è¿½ã„ã¤ã¤ã‚‚ã€é“ä¸­äº¡ããªã£ãŸæ•…éƒ·ã®æ—§å‹ã®ã‚¸ãƒ§ãƒ³(18)ã®ãŸã‚ç¥ˆã‚Šã‚’æ§ã’ã‚‹ã®ã‚’è¦‹ãŸæœ‰ç†
æ•°ã¯ã€ç¥ã®å­˜åœ¨ã‚’å¼·ãæ„è­˜ã—å§‹ã‚å½¼ã¨è­°è«–ã™ã‚‹ã€‚
å®¶ã«åˆ°ç€ã—ãŸãƒã‚¢ã¯ã€ãƒã‚¤ã‚¼ãƒ³ãƒ™ãƒ«ã‚¯ã®ä¸ç¢ºå®šæ€§åŸç†ã®å®¿é¡Œã«å–ã‚Šçµ„ã‚€ã€‚ãã‚Œã‚’ç›®ã«ã—ãŸæœ‰ç†æ•°
ã¯ã€æ–¹ç¨‹å¼ã‚’å¼„ã‚Šãƒã‚¢ã«ãƒ’ãƒ³ãƒˆã‚’ä¸ãˆã¦ã„ãã€‚ãã®åŸç†ã«ãƒ’ãƒ³ãƒˆã‚’å¾—ã¦ã€æœ‰ç†æ•°ã¯ç¾æ™ºå­ã«ä¼šã†
ãŸã‚ç¥–æ¯ã«æ‰‹ç´™ã‚’æ›¸ã„ã¦æŠ•å‡½ã™ã‚‹ã“ã¨ã‚’æ±ºæ„ã™ã‚‹ã€‚ãã®æŠ˜ã«æ„›çŒ« ã‚·ãƒ¥ãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚¬ãƒ¼ãŒåº­ã«é™è‡¨
ã™ã‚‹ã€‚
ã‚·ãƒ¥ãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚¬ãƒ¼ã‚’è¿½ã£ã¦ã„ãæœ‰ç†æ•°ã¨ãƒã‚¢ã¯ã€åŒ—æ¥µæ˜Ÿã¨å—åå­—æ˜Ÿã®é–“ã‚’èµ°ã‚‹å¹»æƒ³å¤œè¡Œåˆ—è»Šã®
ä¸­ã«ã„ã‚‹ã€‚ãã“ã§æœ‰ç†æ•°ã¯ãŠã•ã’é«ªã®è‹¥ã„å¥³ã¨ã€ãƒã‚¢ã¯è»æœã‚’ç€ãŸè‹¥è€…ã«ãã‚Œãã‚Œå†ä¼šã‚’æœãŸ
ã™ã€‚é‚‚é€…å¾Œã€è‹¥ã„ç”·å¥³ã®å¾Œã‚’è¿½ã†2äººã¯ã€è»Šè¼Œé–“ã®é¡æ‰‰ã‚’é€šéã—æœ‰ç†æ•°ã®åº­ã«ãƒˆãƒªãƒƒãƒ—ã™ã‚‹ã€‚
å„ã€…ã®å½¢è¦‹ã‹ã‚‰â»‘ã„é–“è„³è£ã«çœ ã£ã¦ã„ãŸè¨˜æ†¶ã‚’è¦šé†’ã•ã‚Œã€å†¥åœŸã¸ã®æ—…ç«‹ã¡ã‚’ç›®å‰ã«ã€æœ‰ç†æ•°ã¯è‹¥
ã„å¥³ã‚’ç¾æ™ºå­ã¨ã€ãƒã‚¢ã¯ç”·ã‚’ã‚¸ãƒ§ãƒ³ã¨ç¢ºä¿¡ã™ã‚‹ã€‚å¤©ã¸ã¨æ—…ç«‹ã¤åˆ—è»Šã«ä¹—è»Šã™ã‚‹è‹¥ã„ç”·å¥³ã‚’è¦‹é€ã£
ãŸå¾Œã€æ„è­˜ã‚’å¤±ã†æœ‰ç†æ•°ã¯ã€å¦¹ã®çœŸç†(15)ã«æŒ¯ã‚Šèµ·ã“ã•ã‚Œã‚‹ã€‚å¤§äººã«ãªã£ãŸæœ‰ç†æ•°(20)ã¯ã€å¦¹ã¨
ä¸€ç·’ã«ç¾æ™ºå­ã®å¢“å‚ã‚Šã‚’ã™ã‚‹ã€‚å¢“ã®å‰ã§ã€æœ‰ç†æ•°ã¯å—åå­—æ˜Ÿã‹ã‚‰é€ã‚‰ã‚Œã¦ããŸæ‰‹ç´™ã‚’ç™ºè¦‹ã™ã‚‹ã€‚
ãã‚Œã¯ç¾æ™ºå­ã¨ã®å¤ãè‰¯ãå­ä¾›æ™‚ä»£ã®è¨˜æ†¶ã¨ã‹ã‘ãŒã„ã®ãªã„æ€ã„å‡ºã«å½©ã‚‰ã‚Œã¦ã„ã‚‹ã€‚"
                     data-year="2025å¹´"
                     data-status="ç±Œå‚™ä¸­"
                     data-icon="ğŸ¬"
                     data-image="images/outside.webp"
                     data-images='["images/outside.webp", "images/lastsummer_filmcut1.webp", "images/lastsummer_filmcut2.webp", "images/lastsummer_filmcut3.webp"]'>
                    <div class="work-image movie">
                        <img src="images/outside.webp" alt="æœ€å¾Œã®å¤ã¸ã®æ‰‰" style="display: block;">
                    </div>
                    <div class="work-content">
                        <div class="work-category">é•·ç·¨æ˜ ç”»</div>
                        <h3 class="work-title">æœ€å¾Œã®å¤ã¸ã®æ‰‰ (The Door to Last Summer)</h3>
                        <div class="work-details">
                            <p><strong>å°ºï¼š</strong>90minã€€<strong>ç›£ç£ï¼š</strong>ä¸­ç”°é›„ä¸€éƒ</p>
                            <p><strong>ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ï¼š</strong>ç§¦å˜‰å’Œã€ãƒ€ãƒ‹ã‚¨ãƒ«ãƒ»ãƒ¤ãƒ³</p>
                        </div>
                        <p class="work-description">5æ­³ã®æœ‰ç†æ•°ãŒå±ç¯¤ã®ç¥–æ¯ç¾æ™ºå­ã¨éã”ã™æœ€å¾Œã®ãŠç›†ã€‚æ£®ã§è¿·å­ã«ãªã£ãŸå½¼å¥³ã¯ã€å…ƒé›£æ°‘ã®é’å¹´ãƒã‚¢ã¨é‹å‘½çš„ã«å‡ºä¼šã†ã€‚æ„›çŒ«ã‚·ãƒ¥ãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚¬ãƒ¼ã‚’è¿½ã£ã¦ä¹—ã‚Šè¾¼ã‚“ã å¹»æƒ³å¤œè¡Œåˆ—è»Šã§ã€è‹¥ãæ—¥ã®ç¥–æ¯ã¨å†ä¼šã‚’æœãŸã™ã€‚é‡å­åŠ›å­¦ãŒç´¡ãå¥‡è·¡çš„ç‰©èªã¯ã€15å¹´å¾Œã€å—åå­—æ˜Ÿã‹ã‚‰ã®æ‰‹ç´™ã§æ–°ãŸãªç« ã‚’è¿ãˆã‚‹ã€‚ç”Ÿã¨æ­»ã€è¨˜æ†¶ã¨æ„›ã‚’æãæ„Ÿå‹•ã®å‚‘ä½œã€‚</p>
                        <div class="work-meta">
                            <span class="work-year">2025å¹´</span>
                            <span class="work-status status-in-progress">ç±Œå‚™ä¸­</span>
                        </div>
                    </div>
                </div>

                <!-- YouTubeä½œå“ -->
                <div class="work-item" data-category="youtube"
                     data-title="ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—æ”¯æ´è€…ãƒ»å‰µæ¥­å®¶ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ç•ªçµ„"
                     data-details=""
                     data-description="2026å¹´1æœˆ1æ—¥ç™ºå¸ƒäºˆå®šã€‚ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—æ”¯æ´è€…ã¨å‰µæ¥­å®¶ãŸã¡ã«ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ã‚’è¡Œã„ã€å½¼ã‚‰ã®çµŒé¨“ã‚„çŸ¥è¦‹ã‚’å…±æœ‰ã™ã‚‹ç•ªçµ„ã‚’ä¼ç”»ä¸­ã€‚å‰µæ¥­å®¶ã®çš†æ§˜ã®ã”å‚åŠ ã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚"
                     data-year="2026å¹´"
                     data-status="ç±Œå‚™ä¸­"
                     data-icon="ğŸš€"
                     data-youtube="dQw4w9WgXcQ">
                    <div class="work-image youtube">ğŸš€</div>
                    <div class="work-content">
                        <div class="work-category">YouTube</div>
                        <h3 class="work-title">ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—æ”¯æ´è€…ãƒ»å‰µæ¥­å®¶ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ç•ªçµ„</h3>
                        <p class="work-description">2026å¹´1æœˆ1æ—¥ç™ºå¸ƒäºˆå®šã€‚ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—æ”¯æ´è€…ã¨å‰µæ¥­å®¶ãŸã¡ã«ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ã‚’è¡Œã„ã€å½¼ã‚‰ã®çµŒé¨“ã‚„çŸ¥è¦‹ã‚’å…±æœ‰ã™ã‚‹ç•ªçµ„ã‚’ä¼ç”»ä¸­ã€‚å‰µæ¥­å®¶ã®çš†æ§˜ã®ã”å‚åŠ ã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚</p>
                        <div class="work-meta">
                            <span class="work-year">2026å¹´</span>
                            <span class="work-status status-in-progress">ç±Œå‚™ä¸­</span>
                        </div>
                    </div>
                </div>

                <div class="work-item" data-category="youtube"
                     data-title="å‰µæ¥­å®¶å‹Ÿé›†ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"
                     data-details=""
                     data-description="ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ç•ªçµ„ã¸ã®å‡ºæ¼”ã‚’å¸Œæœ›ã•ã‚Œã‚‹å‰µæ¥­å®¶ã®çš†æ§˜ã‚’å‹Ÿé›†ã—ã¦ã„ã¾ã™ã€‚ã‚ãªãŸã®å‰µæ¥­ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚„çµŒé¨“ã‚’å¤šãã®äººã«ä¼ãˆã€æ¬¡ä¸–ä»£ã®èµ·æ¥­å®¶ã«ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸ãˆã¾ã›ã‚“ã‹ï¼Ÿ"
                     data-year="2025å¹´"
                     data-status="å‹Ÿé›†ä¸­"
                     data-icon="ğŸ¤"
                     data-youtube="J---aiyznGQ">
                    <div class="work-image youtube">ğŸ¤</div>
                    <div class="work-content">
                        <div class="work-category">YouTube</div>
                        <h3 class="work-title">å‰µæ¥­å®¶å‹Ÿé›†ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</h3>
                        <p class="work-description">ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ç•ªçµ„ã¸ã®å‡ºæ¼”ã‚’å¸Œæœ›ã•ã‚Œã‚‹å‰µæ¥­å®¶ã®çš†æ§˜ã‚’å‹Ÿé›†ã—ã¦ã„ã¾ã™ã€‚ã‚ãªãŸã®å‰µæ¥­ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚„çµŒé¨“ã‚’å¤šãã®äººã«ä¼ãˆã€æ¬¡ä¸–ä»£ã®èµ·æ¥­å®¶ã«ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸ãˆã¾ã›ã‚“ã‹ï¼Ÿ</p>
                        <div class="work-meta">
                            <span class="work-year">2025å¹´</span>
                            <span class="work-status status-recruiting">å‹Ÿé›†ä¸­</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Back to Home -->
            <div class="back-link">
                <a href="index.html" class="btn-back">â† ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-main">
                <div class="footer-brand">
                    <a href="index.html" class="footer-logo">
                        <div class="logo-icon">ğŸŒ™</div>
                        <span class="footer-logo-text">STUDIO MOON</span>
                    </a>
                    <p class="footer-description">
                        æ—¥æœ¬ã¨å°æ¹¾ã®æ˜ åƒåˆ¶ä½œã‚’ç¹‹ãæ¶ã‘æ©‹ã¨ã—ã¦ã€ä¸¡åœ°åŸŸã®æŠ€è¡“ã¨å‰µä½œäº¤æµã‚’ä¿ƒé€²ã—ã€ã‚ˆã‚Šè±Šã‹ã§å¤šæ§˜ãªæ˜ ç”»åˆ¶ä½œç’°å¢ƒã‚’å‰µé€ ã™ã‚‹ã“ã¨ã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚
                    </p>
                    <div class="footer-social">
                        <a href="#" class="social-link" title="YouTube">ğŸ“º</a>
                        <a href="#" class="social-link" title="Instagram">ğŸ“·</a>
                        <a href="#" class="social-link" title="Discord">ğŸ’¬</a>
                        <a href="#" class="social-link" title="Twitter">ğŸ¦</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>ã‚µãƒ¼ãƒ“ã‚¹å†…å®¹</h4>
                    <ul class="footer-links">
                        <li><a href="#">é•·ç·¨æ˜ ç”»åˆ¶ä½œ</a></li>
                        <li><a href="#">çŸ­ç·¨æ˜ ç”»åˆ¶ä½œ</a></li>
                        <li><a href="#">YouTube ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</a></li>
                        <li><a href="#">CM åºƒå‘Š</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>ç§ãŸã¡ã«ã¤ã„ã¦</h4>
                    <ul class="footer-links">
                        <li><a href="about.html">ä¼šç¤¾æ¦‚è¦</a></li>
                        <li><a href="works.html">ä½œå“é›†</a></li>
                        <li><a href="news.html">æœ€æ–°ãƒ‹ãƒ¥ãƒ¼ã‚¹</a></li>
                        <li><a href="#">ãŠå•ã„åˆã‚ã›</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>é€£çµ¡å…ˆ</h4>
                    <ul class="footer-links">
                       <li>ğŸ“§ mercyfilmmaker@gmail.com</li>
                        <li>ğŸ“ æ±äº¬éƒ½æ±Ÿæˆ¸å·åŒºxãƒ¼xãƒ¼xï¼ˆå€‹äººäº‹æ¥­ã¨ã—ã¦è¡Œãªã£ã¦ãŠã‚Šã€ä¼šç¤¾ã‚’è¨­ç«‹ã—ãŸéš›ã«ä½æ‰€ã‚’è¨˜å…¥ã„ãŸã—ã¾ã™ã€‚ï¼‰</li>
                        <li>ğŸ•’ æœˆæ›œæ—¥ã€œé‡‘æ›œæ—¥ 09:00-18:00</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Studio Moon. All rights reserved. | æ—¥æœ¬ã¨å°æ¹¾ã®æ˜ ç”»æ¥­ç•Œã‚’ã¤ãªã</p>
            </div>
        </div>
    </footer>

    <script>
        // Carousel functionality
        function initCarousel(workItem) {
            const carousel = workItem.querySelector('.image-carousel');
            if (!carousel) return;

            const container = carousel.querySelector('.carousel-container');
            const slides = carousel.querySelectorAll('.carousel-slide');
            const dots = carousel.querySelectorAll('.carousel-dot');
            const prevBtn = carousel.querySelector('.carousel-prev');
            const nextBtn = carousel.querySelector('.carousel-next');

            let currentSlide = 0;
            const totalSlides = slides.length;

            function updateCarousel() {
                container.style.transform = `translateX(-${currentSlide * 100}%)`;
                
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentSlide);
                });
            }

            function nextSlide() {
                currentSlide = (currentSlide + 1) % totalSlides;
                updateCarousel();
            }

            function prevSlide() {
                currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                updateCarousel();
            }

            // Event listeners
            nextBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                nextSlide();
            });

            prevBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                prevSlide();
            });

            dots.forEach((dot, index) => {
                dot.addEventListener('click', (e) => {
                    e.stopPropagation();
                    currentSlide = index;
                    updateCarousel();
                });
            });

            // Auto-play (optional)
            let autoPlayInterval;
            
            function startAutoPlay() {
                autoPlayInterval = setInterval(nextSlide, 4000);
            }

            function stopAutoPlay() {
                clearInterval(autoPlayInterval);
            }

            workItem.addEventListener('mouseenter', stopAutoPlay);
            workItem.addEventListener('mouseleave', startAutoPlay);

            startAutoPlay();
        }

        // Filter functionality
        const filterBtns = document.querySelectorAll('.filter-btn');
        const workItems = document.querySelectorAll('.work-item');

        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // Remove active class from all buttons
                filterBtns.forEach(b => b.classList.remove('active'));
                // Add active class to clicked button
                btn.classList.add('active');

                const filterValue = btn.getAttribute('data-filter');

                workItems.forEach(item => {
                    if (filterValue === 'all' || item.getAttribute('data-category') === filterValue) {
                        item.style.display = 'block';
                        item.style.animation = 'fadeInUp 0.6s ease forwards';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        });

        // Initialize carousels for all work items
        document.addEventListener('DOMContentLoaded', () => {
            workItems.forEach(item => {
                initCarousel(item);
            });
        });

        // Modal functionality
        function openModal(workItem) {
            const modal = document.getElementById('workModal');
            const modalHeader = document.getElementById('modalHeader');
            const modalIcon = document.getElementById('modalIcon');
            const modalCategory = document.getElementById('modalCategory');
            const modalTitle = document.getElementById('modalTitle');
            const modalDetails = document.getElementById('modalDetails');
            const modalDescription = document.getElementById('modalDescription');
            const modalYear = document.getElementById('modalYear');
            const modalStatus = document.getElementById('modalStatus');

            // Get data from work item
            const category = workItem.getAttribute('data-category');
            const title = workItem.getAttribute('data-title');
            const details = workItem.getAttribute('data-details');
            const description = workItem.getAttribute('data-description');
            const year = workItem.getAttribute('data-year');
            const status = workItem.getAttribute('data-status');
            const icon = workItem.getAttribute('data-icon');
            const image = workItem.getAttribute('data-image');
            const youtube = workItem.getAttribute('data-youtube');

            // Set modal header background based on category
            modalHeader.className = `modal-header ${category}`;
            
            // Clear existing content in header
            const headerContent = modalHeader.querySelector('.modal-header-content');
            headerContent.innerHTML = '';

            // Add image, video, or icon based on available data
            if (image) {
                const img = document.createElement('img');
                img.src = image;
                img.alt = title;
                img.className = 'modal-header-image';
                modalHeader.insertBefore(img, headerContent);
            } else if (youtube) {
                // ä¿®å¾©ï¼šæ·»åŠ  has-video é¡åä¸¦æé«˜ z-index
                modalHeader.classList.add('has-video');
                const iframe = document.createElement('iframe');
                iframe.src = `https://www.youtube.com/embed/${youtube}?autoplay=0&controls=1&showinfo=0&rel=0`;
                iframe.className = 'modal-header-video';
                iframe.allowFullscreen = true;
                iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture');
                modalHeader.insertBefore(iframe, headerContent);
            } else {
                const iconSpan = document.createElement('span');
                iconSpan.textContent = icon;
                iconSpan.style.fontSize = '3rem';
                iconSpan.style.position = 'relative';
                iconSpan.style.zIndex = '2';
                headerContent.appendChild(iconSpan);
            }

            // Update modal content
            modalCategory.textContent = workItem.querySelector('.work-category').textContent;
            modalTitle.textContent = title;
            modalDetails.innerHTML = details;
            modalDescription.textContent = description;
            modalYear.textContent = year;
            modalStatus.textContent = status;
            modalStatus.className = `modal-status ${workItem.querySelector('.work-status').className.replace('work-status ', '')}`;

            // Show modal
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('workModal');
            const modalHeader = document.getElementById('modalHeader');
            
            // æ¸…ç† has-video é¡å
            modalHeader.classList.remove('has-video');
            
            // åœæ­¢è¦–é »æ’­æ”¾
            const iframe = modal.querySelector('.modal-header-video');
            if (iframe) {
                iframe.remove();
            }
            
            modal.classList.remove('show');
            document.body.style.overflow = '';
        }

        // Add click event to work items
        workItems.forEach(item => {
            item.addEventListener('click', () => {
                openModal(item);
            });
        });

        // Close modal when clicking outside
        document.getElementById('workModal').addEventListener('click', (e) => {
            if (e.target.id === 'workModal') {
                closeModal();
            }
        });

        // Close modal with ESC key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>
